// scripts.js

document.addEventListener('DOMContentLoaded', () => {
    const startGameButton = document.getElementById('startGame');
    const playersList = document.getElementById('playersList');

    let players = [];
    const roles = ['مافيا', 'شايب', 'مواطن'];

    startGameButton.addEventListener('click', () => {
        players = prompt('أدخل أسماء اللاعبين مفصولة بفواصل').split(',').map(name => name.trim());
        if (players.length < 3) {
            alert('يجب أن يكون هناك على الأقل 3 لاعبين');
            return;
        }
        assignRoles();
        displayPlayers();
    });

    function assignRoles() {
        let shuffledRoles = [...roles, ...Array(players.length - roles.length).fill('مدني')];
        shuffledRoles.sort(() => Math.random() - 0.5);
        players = players.map((player, index) => ({ name: player, role: shuffledRoles[index] }));
    }

    function displayPlayers() {
        playersList.innerHTML = '';
        players.forEach(player => {
            const playerElement = document.createElement('div');
            playerElement.textContent = اسم اللاعب: ${player.name}, دوره: ${player.role};
            playersList.appendChild(playerElement);
        });
    }
});
